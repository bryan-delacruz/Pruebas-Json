<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agenda</title>
  </head>
  <body>
    <h2><span id="titulo">Nuevo</span> Contacto</h2>
    <input type="hidden" id="cod"/>
    <input type="text" id="nom" placeholder="Nombre" /><br />
    <input type="text" id="telf" placeholder="Teléfono" /><br />
    <button onclick="nuevo()">Guardar</button>
    <h2>Lista de Contactos</h2>
    <table border="1">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Teléfono</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="data"></tbody>
    </table>
  </body>
  <script type="text/javascript" src="agenda.js"></script>
  <script type="text/javascript">
    obj=new Agenda();
    function nuevo(){
      titulo=document.getElementById("titulo");
      cajaId=document.getElementById("cod");
      cajaNom=document.getElementById("nom");
      cajaTelf=document.getElementById("telf");

      id=cajaId.value;
      nombre=cajaNom.value;
      telefono=cajaTelf.value;

      console.log("id "+id);
      
      if(id){
        console.log("Editar");
        obj.editar(id,nombre,telefono);
      }else{
        console.log("Insertar");
        obj.insertar(nombre,telefono);
      }
      
      
      titulo.innerHTML="Nuevo";
      cajaId.value="";
      cajaNom.value="";
      cajaTelf.value="";
    }
    function eliminar(id){
      console.log("eliminar:" + id);
      rpta=confirm("¿Estás seguro de eliminar el contacto?");
      if (rpta) {
        obj.remover(id);
      }
    }
    function mostrar(id){
      obj.detalle(id);
    }
    window.onload=function(){
      obj.listar();
    }
  </script>
</html>
